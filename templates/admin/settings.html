{% extends "admin/base.html" %}
{% block title %}Param√®tres{% endblock %}
{% block page_title %}Param√®tres du compte{% endblock %}

{% block content %}

{% if msg %}
<div class="alert alert-{{ msg[0] }}">
  {{ '‚úÖ' if msg[0] == 'success' else '‚ö†Ô∏è' }} {{ msg[1] }}
</div>
{% endif %}

<div class="settings-card">
  <h3>üîê Changer le mot de passe</h3>
  <form method="POST" action="{{ url_for('admin_settings') }}">
    <div class="form-group">
      <label>Mot de passe actuel</label>
      <input type="password" name="current_password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>
    </div>
    <div class="form-group">
      <label>Nouveau mot de passe</label>
      <input type="password" name="new_password" required
             placeholder="8 caract√®res minimum" minlength="8"/>
    </div>
    <div class="form-group">
      <label>Confirmer le nouveau mot de passe</label>
      <input type="password" name="confirm_password" required placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"/>
    </div>
    <div class="form-actions">
      <button type="submit" class="btn-primary">Enregistrer</button>
    </div>
  </form>
</div>

<div class="settings-card" style="margin-top:24px">
  <h3>‚ÑπÔ∏è Informations</h3>
  <p style="color:var(--muted);font-size:0.88rem;line-height:1.7">
    Connect√© en tant que : <strong style="color:var(--cream)">{{ session.get('admin_username') }}</strong><br/>
    Pour changer l'identifiant, modifiez directement la base de donn√©es SQLite.<br/>
    La configuration email (SMTP) se fait via les variables d'environnement dans le fichier <code style="color:var(--gold)">.env</code>.
  </p>
</div>

{% endblock %}
